<!DOCTYPE html>
<html lang="pr-br">
    <head>
        <meta charset="UTF-8" />
        <link rel="stylesheet" href="./assets/stylesheet/style.css" />
        <script type="text/javascript" src="./assets/js/script.js"></script>
        <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
        <title>League of Legends</title>
    </head>

    <body>
        <div class="container">
            <div class="login-container">
                <div class="login-top">
                    <img src="./assets/image/logo-lol.png" width="40" alt="Logo League of Legends">
                </div>

                <div class="login-body">
                    <p>LOGIN</p>
                    
                    <form onkeyup="check()" id="login" autocomplete="off">
                        <input type="text" name="login" placeholder="NOME DE USUÁRIO">
                        <input type="password" name="password" placeholder="SENHA">
                        <div class="button">
                            <button id="login-btn" type="button" disabled>&#x279C;</button>
                        </div>
                    </form>
                </div>

                <div class="login-bottom">
                    <p class="versão">P2 - Web</p>
                </div>
            </div>
            
            <div class="background-container">
                <div class="background-alert"></div>
            </div>
        </div>

        <script>
            document.querySelector('#login-btn').addEventListener('click', async () => {
                let token = localStorage.getItem('token');

                try {
                    form = document.getElementById("login")

                    let username = form.children[0].value;
                    let pass = form.children[1].value;

                    let response = await axios.post('https://reqres.in/api/login', {
                        email: username,
                        password: pass
                    });

                    if (json.data.token) {
                        token = json.data.token;
                        localStorage.setItem('token', token);
                        localStorage.setItem('active', json.status);
                    }
                }
                catch (e) {

                }
             });
        </script>

    </body>
</html>